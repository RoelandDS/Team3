<!DOCTYPE html>
<!--
FoxPaw Entertainment proprietary code.
-->
<html>
    <head>
        <title>Control the Lamp</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="layout/style.css" rel="stylesheet" type="txt/css"/>
        <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
        <script type="text/javascript" src="js/jshue.js"></script>
        <script type="text/javascript">
            $(document).ready(initFunction);

            var windowX;
            var windowY;

            function initFunction() {
                windowResizer();
                $('#body').mousemove(function (event) {
                    mouseTracker(event);
                });
                $(window).resize(function (event) {
                    windowResizer(event);
                });
            }

            function windowResizer(event) {
                windowX = $(window).width();
                windowY = $(window).height();
            }

            function mouseTracker(event) {
                var relMoveX = event.clientX / windowX;
                var relMoveY = event.clientY / windowY;

                var offset = (relMoveX * 100) + "% " + (relMoveY * 100) + "%";
                $("#body").css({backgroundPosition: offset});
            }

            var hue = jsHue();
            var bridge = hue.bridge('10.0.1.3');
            var user;
            
            /*
            hue.discover(
                    function (bridges) {
                        if (bridges.length === 0) {
                            console.log('No bridges found. :(');
                        }
                        else {
                            bridges.forEach(function (b) {
                                console.log('Bridge found at IP address %s.', b.internalipaddress);
                                bridge = b;
                            });
                        }
                    },
                    function (error) {
                        console.error(error.message);
                    }
            );
            */

            /*
            // create user account (requires link button to be pressed)
            bridge.createUser('test', function (data) {
                // extract bridge-generated username from returned data
                var username = data[0].success.username;

                console.log('New username:', username);

                // instantiate user object with username
                user = bridge.user(username);
            });
            Â¨*/

            
            user = bridge.user("33bf4d2254c66f7e94dcee2924a923");
        </script>
    </head>
    <body id="body">
        <h1>Do things here</h1>
    </body>
</html>
